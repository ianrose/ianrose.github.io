
<!doctype html>
<html class="no-js" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<title>Permanent Redirect GitHub Project Page to Custom Domain | Ian Rose</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="How to get a GitHub hosted project site to 301 redirect to a custom domain name using CloudFlare.">
<meta property="og:type" content="article">
<meta property="og:title" content="Permanent Redirect GitHub Project Page to Custom Domain">
<meta property="og:url" content="http://ianrose.me/2014/03/30/permanent-rediect-github-project-page/index.html">
<meta property="og:site_name" content="Ian Rose">
<meta property="og:description" content="How to get a GitHub hosted project site to 301 redirect to a custom domain name using CloudFlare.">
<meta property="og:updated_time" content="2015-10-05T12:29:40.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Permanent Redirect GitHub Project Page to Custom Domain">
<meta name="twitter:description" content="How to get a GitHub hosted project site to 301 redirect to a custom domain name using CloudFlare.">
	<link rel="apple-touch-icon" href="apple-touch-icon.png">
	<link type="text/css" rel="stylesheet" href="http://fast.fonts.net/cssapi/5e032a37-9d8b-4f87-a5f8-27da504f3d82.css"/>
	<link rel="stylesheet" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"/>
	
		<link rel="stylesheet" href="/css/main.css">
	
</head>
<body itemscope itemtype="http://schema.org/WebPage" class="permanent-rediect-github-project-page">
<div class="nav--menu">
	<header class="site-header" role="banner">
		
		<p class="site-title site-title--name" itemprop="name">
			<a href="/">Ian Rose</a>
		</p>
		
		<p class="site-title site-title--sub" itemprop="specialty">Front-end Designer</p>
		<button id="js-toggle-menu" class="button--menu" aria-label="Site Menu"><i class="button--menu-open ion-navicon" aria-hidden="true"></i><i class="button--menu-close ion-android-close" aria-hidden="true"></i></button>
	</header>
	<nav id="js-menu" class="nav" role="navigation" itemprop="breadcrumb">
		<ul>
			
			<li><a href="/">Home</a></li>
			
			<li><a href="/about">About</a></li>
			
			<li><a href="/categories/articles">Articles</a></li>
			
			<li><a href="/categories/notes">Notes</a></li>
			
			<li><a href="/categories/work">Work</a></li>
			
		</ul>
	</nav>
</div>
<div class="layout--main">
	<div class="container">
		<main role="main" itemscope itemtype="http://schema.org/Blog">
			<!--[if lte IE 9]>
			<p class="align-center">This is a portfolio site. I used this opportunity to experiment with <a href="http://caniuse.com/#feat=flexbox" title="Can I Use">CSS Flexbox</a>. Please use a <a href="http://browsehappy.com/" title="Browse Happy">modern browser</a>.</p>
			<![endif]-->
			<article class="article--post" itemscope itemprop="blogPost" itemtype="http://schema.org/BlogPosting">
	<div class="meta--post--l">
		<div class="row">
			<div class="meta--container meta--container-post">
				<div class="meta--txt meta--heading">
					
<span class="meta meta--primary">
			<a class="meta--link" href="/categories/articles/">articles</a>
		</span>


					

				</div>
			</div>
			<div class="meta--container meta--container-post">
				<div class="meta--txt meta--heading">
					<time class="meta meta--primary" datetime="2014-03-30T21:20:20.000Z" itemprop="datePublished">Mar 30, 2014</time>

<span class="meta meta--alt">updated <time datetime="2015-10-05T12:29:40.000Z" itemprop="dateModified">Oct 05, 2015</time></span>


				</div>
			</div>
		</div>
	</div>
		<header class="article--header">
			<h1 itemprop="name">
				Permanent Redirect GitHub Project Page to Custom Domain
			</h1>
			
			<p class="dek dek--lg">How to get a GitHub hosted project site to 301 redirect to a custom domain name using CloudFlare.</p>
			
			
			<div class="byline">
				by <span itemprop="author creator">Ian Rose</span>
			</div>
			
		</header>
		<div class="article--body" itemprop="articleBody">
			
			<p>The setup, you have your personal page at username.github.io with a custom domain, like custom.me. You have also created a project page for one of your repositories that by default would exist at custom.me/projectname.</p>
<p>This is assuming you have <code>projectname.io</code> already setup with the proper CNAME in the root of your site and your DNS working using CloudFlare.</p>
<p>Please note that the information below is just from trial and error and a whole bunch of Google searching. If you have any expertise and see any errors please let me know.</p>
<h2 id="A_Less_Than_Ideal_Solution">A Less Than Ideal Solution</h2><p>GitHub Pages doesn’t offer any sort ability to setup redirects. So one option is to use JavaScript to do the redirect:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">script</span>&gt;</span><span class="javascript"></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">window</span>.location.href.indexOf(<span class="string">'http://custom.me'</span>) === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">window</span>.location.href = <span class="string">'http://projectname.io'</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Then use a meta tag to help search engines:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">"canonical"</span> <span class="attribute">href</span>=<span class="value">"http://projectname.io"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>If you are using Jekyll for example you could make that bit more flexible:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">script</span>&gt;</span><span class="javascript"></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">window</span>.location.href.indexOf(<span class="string">'http://custom.me'</span>) === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">window</span>.location.href = <span class="string">'http://projectname.io&#123;&#123; page.url &#125;&#125;'</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">"canonical"</span> <span class="attribute">href</span>=<span class="value">"http://projectname.io&#123;&#123; page.url &#125;&#125;"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="A_Much_Better_Solution">A Much Better Solution</h2><p>If you are using CloudFlare for your statically hosted blog great! If not, it is worth checking out. It provides two great features right off the bat. It puts all your assets in a CDN and allows you to setup 301 redirects. CloudFlare is also rolling out what they call CNAME flattening which should help with the 302 errors that occur when using an apex domain on GitHub Pages.</p>
<p>To setup the 301 redirect for your custom URL project page first you need to login to CloudFlare. Go to your Websites, click the gear icon then select Page rules.</p>
<p>You are going to Add new rule with Forwarding turned on. The URL pattern you enter would be something like, <code>custom.me/projectname/*</code>. Then the destination URL would be something like, <code>http://projectname.io/$1</code>.</p>
<p>Set Forwarding type to Permanent - 301 and click Add rule to apply your new redirect.</p>
<p>This nicer setup is directly taken from a great <a href="http://www.higherorderheroku.com/articles/cloudflare-dns-heroku/">post at Higher Order Heroku</a>. The post goes into how to setup an apex domain using a CNAME. This looks to be an older setup that could be done instead of doing the newer “CNAME flattening”.</p>
		</div>
</article>
<nav class="nav nav--post row" role="navigation">
		
			<div class="nav--prev">
				<h5 class="nav--post-heading">Organizing Styles When Using Typesettings</h5>
				<p class="dek dek--sm">At work I’ve been cranking on a prototype. I decided to give a Typesettings a go in more of a production setting that required designing in the browser. Overall the experience has been pretty good.</p>
			</div>
			<div class="nav--post-button">
				<a class="button--link" href="/2014/05/01/organizing-styles-when-using-typesettings/">Previous</a>
			</div>
		

		
			<div class="nav--next">
				<h5 class="nav--post-heading">A Sass Type Toolkit: Typesettings</h5>
				<p class="dek dek--sm">Setting type using modular scale and maintaining vertical rhythm is not a new topic, at all. There are so many great tools and articles out there that help designers do these things. However I couldn’t find exactly what I was looking for.</p>
			</div>
			<div class="nav--post-button">
				<a class="button--link" href="/2014/03/24/sass-type-toolkit-typesettings/">Next</a>
			</div>
		
</nav>

		</main>
		<footer class="row" role="contentinfo">
			<div class="newsletter--l">
				<div class="footer--col--l">
					<form class="form form--box" action="https://tinyletter.com/ian-rose" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/ian-rose', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
						<p>
							<label for="tlemail">Sign up to have updates sent directly to your inbox.</label>
						</p>
						<input type="text" placeholder="Your email here" name="email" id="tlemail"/>
						<input type="hidden" value="1" name="embed"/>
						<input type="submit" value="Subscribe" class="button button--primary"/>
					</form>
				</div>
			</div>
			<div class="footer--nav--l">
				<nav class="nav row" role="navigation">
					<div class="footer--col--l">
						<div><a href="https://twitter.com/ThatIanRose" target="_blank">Twitter</a></div>
						<div><a href="https://github.com/ianrose" target="_blank">GitHub</a></div>
						<div><a href="http://linkedin.com/in/roseian/" target="_blank">LinkedIn</a></div>
					</div>
					<div class="footer--col--l">
						<div><a href="https://tinyletter.com/ian-rose" target="_blank">Newsletter</a></div>
						<div><a href="http://feeds.feedburner.com/ianrose?format=xml" target="_blank">RSS</a></div>
						<div><a href="https://github.com/ianrose/ianrose-source" target="_blank">Site Source</a></div>
					</div>
				</nav>
			</div>
				<div class="back-to-top--l">
					<div class="footer--col--l">
						<a class="button--link" href="#top">Back to Top</a>
					</div>
				</div>
		</footer>
	</div>
</div>
<script src="/js/script.js" type="text/javascript"></script>
<script>
	(function (i, s, o, g, r, a, m) {
		i['GoogleAnalyticsObject'] = r;
		i[r] = i[r] || function () {
			(i[r].q = i[r].q || []).push(arguments)
		}, i[r].l = 1 * new Date();
		a = s.createElement(o),
			m = s.getElementsByTagName(o)[0];
		a.async = 1;
		a.src = g;
		m.parentNode.insertBefore(a, m)
	})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
	ga('create', 'UA-20417568-2', 'ianrose.me');
	ga('send', 'pageview');
</script>
</body>
</html>
